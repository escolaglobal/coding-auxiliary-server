<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="../stylesheets/vendor/codemirror.css">
    <link rel="stylesheet" type="text/css" href="../stylesheets/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../stylesheets/skulpt/default.css">
    <link rel="stylesheet" type="text/css" href="../stylesheets/pyed.css">
</head>
<body>
<pre id="initial_code"><%= exercise.init_python_code%>
</pre>
<pre id="final_code"><%= exercise.final_python_code%>
</pre>

<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <textarea id="code" contenteditable="true" data-exercise-id="<%= exercise._id%>"><%= exercise.initial_state%></textarea>
        </div>
        <div class="col-lg-12">
            <h3>Resultado escrito</h3>
            <pre id="output"></pre>
        </div>
        <div class="modal fade" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">Resultado visual</h4>
                    </div>
                    <div class="modal-body">
                        <canvas id="mycanvas" width='500px' height='500px'
                                <%if(exercise.background_image_url != undefined){%>
                                    style="background: url(<%= exercise.background_image_url%>) no-repeat"
                                <%}%>></canvas>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
    </div>
</div>
</body>

<script type="text/javascript" src="../javascripts/vendor/jquery-2.1.3.js"></script>
<script type="text/javascript" src="../javascripts/vendor/skulpt/skulpt.min.js" ></script>
<script type="text/javascript" src="../javascripts/vendor/skulpt/skulpt-stdlib.js"></script>
<script type="text/javascript" src="../javascripts/vendor/jschannel.js"></script>
<script type="text/javascript" src="../javascripts/exercises/evaluation.js"></script>
<script type="text/javascript" src="../javascripts/exercises/python_exercise.js"></script>
<script type="text/javascript" src="../javascripts/vendor/bootstrap.min.js"></script>
<script type="text/javascript" src="../javascripts/vendor/codemirror-compressed.js"></script>

<script>
  var editor = CodeMirror.fromTextArea(code, {
    lineNumbers: true,
    viewportMargin: Infinity
  });
</script>
</html>